if (file('../obp2-utils').exists()) {
	includeBuild('../obp2-utils') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-utils') with project(':')
		}
	}
}
if (file('../obp2-core').exists()) {
	includeBuild('../obp2-core') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-execution') with project(':obp2-execution')
			substitute module('fr.ensta-bretagne:obp2-algorithms') with project(':obp2-algorithms')
			substitute module('fr.ensta-bretagne:obp2-folding') with project(':obp2-folding')
			substitute module('fr.ensta-bretagne:obp2-kernel') with project(':obp2-kernel')
			substitute module('fr.ensta-bretagne:obp2-runtime') with project(':obp2-runtime')
			substitute module('fr.ensta-bretagne:obp2-visualisation') with project(':obp2-visualisation')
			substitute module('fr.ensta-bretagne:obp2-bytearray') with project(':obp2-bytearray')
		}
	}
}
// OBP2 USER Interface
if (file('../obp2-utils-fx').exists()) {
	includeBuild('../obp2-utils-fx') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-utils-fx') with project(':')
		}
	}
}

if (file('../obp2-core-ui').exists()) {
	includeBuild('../obp2-core-ui') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-CLI') with project(':obp2-CLI')
			substitute module('fr.ensta-bretagne:obp2-GUI') with project(':obp2-GUI')
			substitute module('fr.ensta-bretagne:obp2-remote-CLI') with project(':obp2-remote-CLI')
		}
	}
}
// GPSL PROPERTY LANGUAGE
if (file('../jicpl').exists()) {
	includeBuild('../jicpl') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:LPropositionalLogic') with project(':LPropositionalLogic')
			substitute module('fr.ensta-bretagne:LTL') with project(':LTL')
			substitute module('fr.ensta-bretagne:BuchiAutomata') with project(':BuchiAutomata')
		}
	}
}

if (file('../obp2-runtime-buchi').exists()) {
	includeBuild('../obp2-runtime-buchi') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-runtime-buchi') with project(':')
		}
	}
}

if (file('../obp2-runtime-buchikripke').exists()) {
	includeBuild('../obp2-runtime-buchikripke') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-runtime-buchikripke') with project(':')
		}
	}
}

// Different languages supported
if (file('../obp2-runtime-remote').exists()) {
	includeBuild('../obp2-runtime-remote') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-runtime-remote') with project(':')
		}
	}
}

if (file('../obp2-runtime-tlaplus').exists()) {
	includeBuild('../obp2-runtime-tlaplus') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-runtime-tlaplus') with project(':')
		}
	}
}

if (file('../obp2-runtime-lexplicit').exists()) {
	includeBuild('../obp2-runtime-lexplicit') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-runtime-lexplicit') with project(':')
		}
	}
}

if (file('../obp2-runtime-lstate_event').exists()) {
	includeBuild('../obp2-runtime-lstate_event') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-runtime-lstate_event') with project(':')
		}
	}
}

if (file('../obp2-remote-java').exists()) {
	includeBuild('../obp2-remote-java')
}

if (file('../obp2-packaging').exists()) {
	includeBuild('../obp2-packaging')
}

if (file('../obp2-bpmn2-semantics').exists()) {
	includeBuild('../obp2-bpmn2-semantics'){
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-bpmn2-semantics') with project(':')
		}
	}
}

//if (file('../obp2-timed-semantics').exists()) {
//	includeBuild('../obp2-timed-semantics'){
//		dependencySubstitution {
//			substitute module('fr.ensta-bretagne:obp2-runtime-ltimed') with project(':obp2-runtime-ltimed')
//			substitute module('fr.ensta-bretagne:obp2-timed-bpmn2') with project(':obp2-timed-bpmn2')
//		}
//	}
//}

if (file('../obp2-pastfreeze').exists()) {
	includeBuild('../obp2-pastfreeze') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-pastfreeze') with project(':')
		}
	}
}

if (file('../obp2-synchronization').exists()) {
	includeBuild('../obp2-synchronization') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-synchronization') with project(':')
		}
	}
}

if (file('../obp2-obp-bridge').exists()) {
	includeBuild('../obp2-obp-bridge') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-runtime-fiacre') with project(':obp2-runtime-fiacre')
//			substitute module('fr.ensta-bretagne:obp2-runtime-cdl') with project(':obp2-runtime-cdl')
//			substitute module('fr.ensta-bretagne:obp2-runtime-postmortem-obp') with project(':obp2-runtime-postmortem-obp')
		}
	}
}

if (file('../obp2-hash').exists()) {
	includeBuild('../obp2-hash') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-hash') with project(':')
		}
	}
}

if (file('../obp2-divine-bridge').exists()) {
	includeBuild('../obp2-divine-bridge') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-divine-bridge') with project(':')
		}
	}
}

if (file('../obp2-java-inspector').exists()) {
	includeBuild('../obp2-java-inspector') {
		dependencySubstitution {
			substitute module('fr.ensta-bretagne:obp2-java-inspector') with project(':')
		}
	}
}